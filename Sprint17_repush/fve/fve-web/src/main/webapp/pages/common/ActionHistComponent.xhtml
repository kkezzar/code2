

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions"
	xmlns:of="http://java.sun.com/jsf/composite/components/of"
	xmlns:c="http://java.sun.com/jsp/jstl/core">
 <p:panel  >
	<p:dataTable id="ActionHistDataTable" var="tacheAction"
		resizableColumns="false"
		value="#{actionHistBean.listTacheActions}" paginator="true"
		paginatorPosition="bottom"
		emptyMessage="#{histActiontMsgs.action_hist_no_result}"
		rowIndexVar="rowIndex" rows="10"
		paginatorTemplate="{FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {CurrentPageReport}"
		currentPageReportTemplate="({startRecord} - {endRecord} sur {totalRecords})  "
		style="margin:8px">
		<f:param name="ofId" value="#{ofBB.ofId}" />
        <f:param name="demandeId" value="#{demandeHabBean.demandeId}" />
        <f:param name="etapeCode" value="#{demandeHabBean.etapeCode}" />
        <f:param name="entityCode" value="#{actionHistBean.entityCode}" />
        <f:param name="entityInstanceId" value="#{actionHistBean.entityInstanceId}" />
		<p:ajax event="page" update="@this" />
		<p:ajax event="sort" update="@all" process="@this" />
		<f:facet name="header">  
            								#{histActiontMsgs.action_hist_datatable_title}
       						 	</f:facet>  
											<p:column	headerText="#{histActiontMsgs.action_hist_tache}" sortBy="#{tacheAction.tacheDto.etapeRoleDto.etapeI18nDtos['fr'].libelle}" width="30%">
														<h:outputText value="#{tacheAction.tacheDto.etapeRoleDto.etapeI18nDtos['fr'].libelle}" styleClass="labelValue"/>
											</p:column>
				
											<p:column   	headerText="#{histActiontMsgs.action_hist_role}" sortBy="#{tacheAction.tacheDto.etapeRoleDto.roleI18nDtos['fr'].libelle}" width="15%">
														<h:outputText value="#{tacheAction.tacheDto.etapeRoleDto.roleI18nDtos['fr'].libelle}" styleClass="labelValue"/>
											</p:column>
											
											<p:column 	headerText="#{histActiontMsgs.action_hist_user}" sortBy="#{tacheAction.utilisateur}" width="10%">
														<h:outputText value="#{tacheAction.utilisateur}"  styleClass="labelValue" />
											</p:column>
					
											<p:column 	headerText="#{histActiontMsgs.action_date_reception}" sortBy="#{tacheAction.tacheDto.dateCreation}" width="10%">
														<h:outputText value="#{tacheAction.tacheDto.dateCreation}" styleClass="labelValue" > <f:convertDateTime pattern="dd-MM-yyyy HH:mm:ss" /></h:outputText>
											</p:column>
					
											<p:column 	headerText="#{histActiontMsgs.action_date_action}" sortBy="#{tacheAction.dateAction}" width="10%">
														<h:outputText value="#{tacheAction.dateAction}" styleClass="labelValue"><f:convertDateTime pattern="dd-MM-yyyy HH:mm:ss" /></h:outputText>
											</p:column>
											
											<p:column 	headerText="#{histActiontMsgs.action_hist_action}" sortBy="#{tacheAction.actionI18nDtos['fr'].libelle}" width="10%">
														<h:outputText value="#{tacheAction.actionI18nDtos['fr'].libelle}" styleClass="labelValue"/>
											</p:column>
											
											<p:column 	headerText="#{histActiontMsgs.action_hist_commentaire}" sortBy="#{tacheAction.commentaire}" width="15%">
														<h:outputText value="#{tacheAction.commentaire}" styleClass="labelValue" />
											</p:column>
												
											

	</p:dataTable>
</p:panel>


</ui:composition>
