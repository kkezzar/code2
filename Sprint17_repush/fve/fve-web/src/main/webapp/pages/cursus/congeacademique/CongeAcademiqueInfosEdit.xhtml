
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core">

		
   <p:outputPanel styleClass="infoEtudiantStyle">
   
   <center><h3> <h:outputText value="#{congeAcademiqueMsgs.conge_academique_title} - " styleClass="labelValue" /> 
			<h:outputText value="#{congeAcademiqueMsgs.conge_academique_annee_academique}: " styleClass="labelValue" /> 
				<h:outputText value="#{congeAcademiqueBean.dossierInscriptionAdministrativeDto.anneeAcademiqueCode}"  
					style="font-weight: bold;" styleClass="labelValue">
					<f:convertDateTime pattern="dd/MM/yyyy" />
				</h:outputText>
			</h3>	
			
	</center>
   
    <p:tabView orientation="top" style="height:750px;"  id="tabViewConge" widgetVar="tabviewCongeWidget">

    <p:tab title="#{congeAcademiqueMsgs.conge_academique_demande_conge_academique}"  >
    
	
		<p:fieldset legend="#{congeAcademiqueMsgs.conge_academique_infos_inscription}" >
			<p:panelGrid   rendered="#{congeAcademiqueBean.dossierInscriptionAdministrativeDto.id!=0}" >
				 <p:row>
					  <p:column>
					  	<h:outputText value="#{congeAcademiqueMsgs.conge_academique_date_inscription}" />
					  </p:column>
					  <p:column>
						  <h:outputText value="#{congeAcademiqueBean.dossierInscriptionAdministrativeDto.dateCreation}"  style="font-weight: bold;">
						   <f:convertDateTime pattern="dd/MM/yyyy" /> 
						   </h:outputText>
						</p:column>
					    <p:column >
					  	<h:outputText value="#{congeAcademiqueMsgs.conge_academique_annee_academique}" />
					  </p:column>
					  <p:column>
						  <h:outputText value="#{congeAcademiqueBean.dossierInscriptionAdministrativeDto.anneeAcademiqueCode}" style="font-weight: bold;"/>
					  </p:column>					 
				 </p:row>
				
		        </p:panelGrid>
		  </p:fieldset>   
		     
		  <br/>  
		   
	   <p:fieldset legend="#{congeAcademiqueMsgs.conge_academique_infos_etudiant}">
	
       <p:panelGrid>
        <p:row>
            <p:column>
		   		<h:outputText value="#{congeAcademiqueMsgs.conge_academique_nin}:  " /> 
		   	</p:column>
			<p:column>
				<h:outputText value="#{congeAcademiqueBean.congeAcademiqueDto.individuNin}" styleClass="labelValue"/>
			</p:column>
			<p:column>
				<h:outputText value="#{congeAcademiqueMsgs.conge_academique_matricule}:  " />
			</p:column>
			<p:column>
				<h:outputText value="#{congeAcademiqueBean.dossierEtudiantDto.numeroMatricule}" styleClass="labelValue"/> 
			</p:column>
		</p:row>
			
		<p:row>
			<p:column>	
				<h:outputText value="#{congeAcademiqueMsgs.conge_academique_nom}:" />
			</p:column>
			<p:column>
				<h:outputText value="#{congeAcademiqueBean.congeAcademiqueDto.individuNomLatin.toUpperCase()}" styleClass="labelValue" /> 
			</p:column>
			<p:column>
				<h:outputText value="#{congeAcademiqueMsgs.conge_academique_nom_ar}:  " />
			</p:column>
			<p:column>
				<h:outputText value="#{congeAcademiqueBean.congeAcademiqueDto.individuNomArabe}" styleClass="labelValue" />
			</p:column>	
		</p:row>
			
		<p:row>
			<p:column>			
				<h:outputText value="#{congeAcademiqueMsgs.conge_academique_prenom}: "  />
			</p:column>
			<p:column>
 				<h:outputText value="#{congeAcademiqueBean.congeAcademiqueDto.individuPrenomLatin.substring(0,1).toUpperCase().concat(congeAcademiqueBean.congeAcademiqueDto.individuPrenomLatin.substring(1).toLowerCase())}" styleClass="labelValue"/>
			</p:column>
			<p:column>
				<h:outputText value="#{congeAcademiqueMsgs.conge_academique_prenom_ar}: "  />
			</p:column>
			<p:column>
				<h:outputText value="#{congeAcademiqueBean.congeAcademiqueDto.individuPrenomArabe}" styleClass="labelValue"/>
			</p:column>
	        </p:row>
	        
	        <p:row>
			<p:column>
				<h:outputText value="#{congeAcademiqueMsgs.conge_academique_date_naissance}:  " />
			</p:column>
			<p:column>
				<h:outputText value="#{congeAcademiqueBean.congeAcademiqueDto.individuDateNaissance}" styleClass="labelValue">
 					<f:convertDateTime pattern="dd/MM/yyyy" />
				</h:outputText>
			</p:column>
			<p:column >
				<h:outputText value="#{congeAcademiqueMsgs.conge_academique_nationalite}:  " />
			</p:column>
			<p:column >
				<h:outputText value="#{congeAcademiqueBean.congeAcademiqueDto.individuNationaliteLibelleLongFr}" styleClass="labelValue"/>
			</p:column>
			</p:row>
			
			<p:row>
			<p:column>
				<h:outputText value="#{congeAcademiqueMsgs.conge_academique_serie_bac}:  " />
			</p:column>
			<p:column >
				<h:outputText value="#{congeAcademiqueBean.congeAcademiqueDto.bacLibelleSerie}" />
			</p:column>
			<p:column>
				<h:outputText value="#{congeAcademiqueMsgs.conge_academique_matricule_bac}:  " />
			</p:column>
			<p:column>
				<h:outputText value="#{congeAcademiqueBean.congeAcademiqueDto.bacMatricule}" />
			</p:column>
			</p:row>
	        </p:panelGrid>
	        
      </p:fieldset>
     
       <br/>
       
         <h:form id="congeAcademiqueinfosForm" >
       
      <p:fieldset legend="#{congeAcademiqueMsgs.conge_academique_liste_annees_universitaires}" >
         <p:dataTable resizableColumns="true" id="listeInscriptAdminData"
			value="#{congeAcademiqueBean.listeDossierInscriptionAdministrativeDto}" var="current"
			paginator="true" paginatorPosition="bottom" 
			emptyMessage="#{commonmsgs.warn_info_aucun_result}" rows="5"
			paginatorTemplate="{FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {CurrentPageReport}"
			currentPageReportTemplate="({startRecord} - {endRecord} sur {totalRecords})  ">

			<f:param name="dossierEtudiantId" value="#{congeAcademiqueBean.dossierEtudiantId}"/>
			<f:param name="demandeAccordee" value="#{congeAcademiqueBean.demandeAccordee}"/>

			<p:ajax event="page" update="@this" />
			<p:ajax event="sort" update="@this" process="@this" />


			<f:facet name="header">
				<h:outputText value="#{congeAcademiqueMsgs.conge_academique_liste_annees_universitaires}    " />
			</f:facet>

			<p:column sortBy="#{current.anneeAcademiqueCode}">
				<f:facet name="header">
					<h:outputText value="#{congeAcademiqueMsgs.conge_academique_annee_univeristaire}" />
				</f:facet>
				<h:outputText value="#{current.anneeAcademiqueCode}" />
			</p:column>

			<p:column sortBy="#{current.refCodeNiveau}">
				<f:facet name="header">
					<h:outputText value="#{congeAcademiqueMsgs.conge_academique_annee_etude}" />
				</f:facet>
				<h:outputText value="#{current.refCodeNiveau}" />
			</p:column>

			<p:column sortBy="#{current.refCodeFiliere}">
				<f:facet name="header">
					<h:outputText value="#{congeAcademiqueMsgs.conge_academique_filiere}" />
				</f:facet>
				<h:outputText value="#{current.refCodeFiliere}">
				</h:outputText>
			</p:column>
 		
 			<p:column sortBy="#{current.refCodeSpecialite}">
				<f:facet name="header">
					<h:outputText value="#{congeAcademiqueMsgs.conge_academique_specialite}" />
				</f:facet>
				<h:outputText value="#{current.refCodeSpecialite}">
				</h:outputText>
			</p:column>
		</p:dataTable>

       </p:fieldset>
      
      
      <br/>
		   
		 <p:fieldset legend="#{congeAcademiqueMsgs.conge_academique_enregister_infos_demande}" >
			
				<p:panelGrid  rendered="#{congeAcademiqueBean.dossierInscriptionAdministrativeDto.id==0}">
				 <p:row>
				     <p:column colspan="4">
					  	<h:outputText   value ="#{congeAcademiqueMsgs.conge_academique_aucune_inscription_administrative}"  
					  	style="color:red; font-weight: bold;"/>		
					  </p:column>
				 </p:row>	
				 </p:panelGrid>
				 
				 <p:panelGrid  rendered="#{congeAcademiqueBean.dossierInscriptionAdministrativeDto.id!=0}" >
				 <p:row>
					  <p:column >
					  	<h:outputText value="#{congeAcademiqueMsgs.conge_academique_date_demande} *" />
					  </p:column>
					  <p:column colspan="3">
					     <p:calendar navigator="true"  value="#{congeAcademiqueBean.congeAcademiqueDto.dateDemande}"  
					  			showButtonPanel="true"
						        label="#{congeAcademiqueMsgs.conge_academique_date_demande} *" 
						        required="true" 
						        requiredMessage="#{congeAcademiqueMsgs.conge_academique_date_demande_required}" 
						        pattern="dd/MM/yyyy" 
						        rendered="#{!congeAcademiqueBean.congeAcademiqueDto.demandeValidee}" >	
						       <f:convertDateTime pattern="dd/MM/yyyy" />
						  </p:calendar>		
						  <h:outputText  value="#{congeAcademiqueBean.congeAcademiqueDto.dateDemande}" 
						  				style="font-weight: bold;" rendered="#{congeAcademiqueBean.congeAcademiqueDto.demandeValidee}">
						  <f:convertDateTime pattern="dd/MM/yyyy" />
						  </h:outputText>	
						   	
					  </p:column> 
				 </p:row>

				   <p:row>
						<p:column>
							<h:outputText value="#{congeAcademiqueMsgs.conge_academique_raison} *" />
						</p:column>
						<p:column colspan="3">
							<p:inputTextarea  style="text-align: left; width:300px"
								value="#{congeAcademiqueBean.congeAcademiqueDto.raison}"
								label="#{congeAcademiqueMsgs.conge_academique_raison}" 
								required="true"
								requiredMessage="#{congeAcademiqueMsgs.conge_academique_raison_required}"
								rendered="#{!congeAcademiqueBean.congeAcademiqueDto.demandeValidee}" >
							</p:inputTextarea>
							
							 <h:outputText  value="#{congeAcademiqueBean.congeAcademiqueDto.raison}" 
						  				style="font-weight: bold;" rendered="#{congeAcademiqueBean.congeAcademiqueDto.demandeValidee}">
						    </h:outputText>	
						</p:column>
						
					</p:row>

				   <p:row>
						<p:column>
							<h:outputText value="#{congeAcademiqueMsgs.conge_academique_type_conge} *" />
						</p:column>
						<p:column colspan="3">
							<p:selectOneMenu style="text-align: left;width:170px"
								value="#{congeAcademiqueBean.congeAcademiqueDto.refCodeTypeConge}"
								label="#{congeAcademiqueMsgs.conge_academique_type_conge} *" 
								required="true"
								requiredMessage="#{congeAcademiqueMsgs.conge_academique_type_conge_required}"
								rendered="#{!congeAcademiqueBean.congeAcademiqueDto.demandeValidee}" >
								
								<f:selectItem itemLabel="#{congeAcademiqueMsgs.conge_academique_select_type_conge}"
										itemValue="" />
								<f:selectItems value="#{congeAcademiqueBean.listeTypeConge}" />
							</p:selectOneMenu>
							
							 <h:outputText  value="#{congeAcademiqueBean.congeAcademiqueDto.typeCongeLibelleLongFr}" 
						  				style="font-weight: bold;" rendered="#{congeAcademiqueBean.congeAcademiqueDto.demandeValidee}">
						    </h:outputText>	
						</p:column>
				      </p:row>
				      
				      <p:row>
				    <p:column>
							<h:outputText value="#{congeAcademiqueMsgs.conge_academique_date_debut_demande} *" />
					 </p:column>
					<p:column>
					  <p:calendar navigator="true"  value="#{congeAcademiqueBean.congeAcademiqueDto.dateDebutDemande}" 
					  			 showButtonPanel="true"
						         label="#{congeAcademiqueMsgs.conge_academique_date_debut_demande} *" required="true" 
						         requiredMessage="#{congeAcademiqueMsgs.conge_academique_date_debut_demande_required}" 
								 pattern="dd/MM/yyyy" 
								 rendered="#{!congeAcademiqueBean.congeAcademiqueDto.demandeValidee}">	
						   <f:convertDateTime pattern="dd/MM/yyyy" />
					 </p:calendar>
						 <h:outputText  value="#{congeAcademiqueBean.congeAcademiqueDto.dateDebutDemande}" 
						  				style="font-weight: bold;" rendered="#{congeAcademiqueBean.congeAcademiqueDto.demandeValidee}">
						  <f:convertDateTime pattern="dd/MM/yyyy" />
						 </h:outputText>	
						  					
					 </p:column> 
					 <p:column>
							<h:outputText value="#{congeAcademiqueMsgs.conge_academique_date_fin_demande} *" />
					 </p:column>
					<p:column>
					  <p:calendar navigator="true"  value="#{congeAcademiqueBean.congeAcademiqueDto.dateFinDemande}"  
					  			showButtonPanel="true"
						        label="#{congeAcademiqueMsgs.conge_academique_date_fin_demande} *" required="true" 
						        requiredMessage="#{congeAcademiqueMsgs.conge_academique_date_fin_demande_required}" 
						        pattern="dd/MM/yyyy"  rendered="#{!congeAcademiqueBean.congeAcademiqueDto.demandeValidee}">	
						   <f:convertDateTime pattern="dd/MM/yyyy" />
					  </p:calendar>
						 <h:outputText  value="#{congeAcademiqueBean.congeAcademiqueDto.dateFinDemande}" 
						  				style="font-weight: bold;" rendered="#{congeAcademiqueBean.congeAcademiqueDto.demandeValidee}">
						  <f:convertDateTime pattern="dd/MM/yyyy" />
						 </h:outputText>	
					 </p:column> 
				 </p:row>
				 
				  <p:row rendered="#{congeAcademiqueBean.congeAcademiqueDto.demandeValidee}">
					  <p:column >
					  	<h:outputText value="#{congeAcademiqueMsgs.conge_academique_date_validation_demande}" />
					  </p:column>
					  <p:column colspan="3">
						  <h:outputText  value="#{congeAcademiqueBean.congeAcademiqueDto.dateValidationDemande}" 
						  				style="font-weight: bold;" >
						  <f:convertDateTime pattern="dd/MM/yyyy  hh:mm" />
						  </h:outputText>	
						   	
					  </p:column> 
				 </p:row>
						
				 <p:row rendered="#{!congeAcademiqueBean.congeAcademiqueDto.demandeValidee}">
						<p:column>
							<p:commandButton value="#{commonmsgs.bouton_enregistrer}" icon="ui-icon-disk"
							 	actionListener="#{congeAcademiqueBean.saveDemandeConge}" id="saveConge" 
							 	update="congeAcademiqueinfosForm @([id$=tabViewConge])"
							 	process="congeAcademiqueinfosForm"
							 	rendered="#{!congeAcademiqueBean.congeAcademiqueDto.demandeValidee}">
							 
								<f:param name="dossierEtudiantId" value="#{congeAcademiqueBean.dossierEtudiantId}"/>								
								<c:set var="codeTypeDossier" value="D006" scope="request"/>
								<c:set var="dossierId" value="#{congeAcademiqueBean.congeAcademiqueDto.id}" scope="request"/>
								
							</p:commandButton>
						</p:column>
						<p:column>
							<p:commandButton value="#{commonmsgs.bouton_valider}" icon="ui-icon-check"
							 	actionListener="#{congeAcademiqueBean.validerDemandeConge}" id="validerConge" 
							 	update="congeAcademiqueinfosForm @([id$=tabViewConge])"
							 	process="congeAcademiqueinfosForm">
							 	
							 	<p:confirm header="Confirmation"
									message="#{congeAcademiqueMsgs.conge_academique_msg_validate_demande_confirmation}"
									icon="ui-icon-alert" />
							 
								<f:param name="dossierEtudiantId" value="#{congeAcademiqueBean.dossierEtudiantId}"/>
							</p:commandButton>
						</p:column>

				 </p:row>
				</p:panelGrid>

			</p:fieldset>
		 </h:form>
		</p:tab>
		
		
	
		<p:tab id="tb_ca_pieces"  title="#{dossierInscriptionAdministrativeMsgs.dossier_inscription_anglet_piece}" 
						 disabled="#{congeAcademiqueBean.congeAcademiqueDto.id==0}">
       		 <h:form id="pieceid">

	       		 <p:panel  id="pieceedit" visible="#{!congeAcademiqueBean.congeAcademiqueDto.demandeValidee}"  style="border-color: transparent">
					<ui:include
						src="/pages/cursus/dossier/piece/PieceConstEdit.xhtml">
						
						<c:set var="dossierId" value="#{congeAcademiqueBean.congeAcademiqueDto.id}" scope="request"/>
						 <c:set var="codeTypeDossier" value="D006" scope="request"/>
								
					</ui:include>
				 </p:panel>
				 <p:panel id="piecedet"  visible="#{congeAcademiqueBean.congeAcademiqueDto.demandeValidee}"  style="border-color: transparent" >	
					<ui:include
						src="/pages/cursus/dossier/piece/PieceConstDetail.xhtml">
						
						<c:set var="dossierId" value="#{congeAcademiqueBean.congeAcademiqueDto.id}" scope="request"/>
						<c:set var="codeTypeDossier" value="D006" scope="request"/>
								
					</ui:include>
				  </p:panel>
				
			</h:form>
	   </p:tab>
      
      
		 <p:tab title="#{congeAcademiqueMsgs.conge_academique_resultat_conge_academique}" disabled="#{!congeAcademiqueBean.congeAcademiqueDto.demandeValidee}">
		
		  <h:form id="resultatinfosForm">
			<p:fieldset legend="#{congeAcademiqueMsgs.conge_academique_resultat_etude_demande}" id="cc">
			
				 <p:panelGrid   rendered="#{congeAcademiqueBean.dossierInscriptionAdministrativeDto.id!=0}">
				    
					 <p:row>
					 <p:column colspan="4">
					 	<p:selectBooleanButton  value="#{congeAcademiqueBean.congeAcademiqueDto.resultat}" 
					 		onLabel="#{congeAcademiqueMsgs.conge_academique_demande_accordee}" 
					 		offLabel="#{congeAcademiqueMsgs.conge_academique_demande_refusee}" 
					 		onIcon="ui-icon-check" offIcon="ui-icon-close"
					 		disabled="#{congeAcademiqueBean.congeAcademiqueDto.resultatValide}" >
					 		
				 			<p:ajax  update="resultatinfosForm" 
					 		 listener="#{congeAcademiqueBean.selectResultatDemande}"/>
					 		 
							<f:param name="dossierEtudiantId" value="#{congeAcademiqueBean.dossierEtudiantId}"/>
					 		
					 	</p:selectBooleanButton>
							
						</p:column>
					 </p:row>
					 
					 <p:row rendered="#{congeAcademiqueBean.accorde}">
					 <p:column>
							<h:outputText value="#{congeAcademiqueMsgs.conge_academique_date_debut_accordee}" />
					 </p:column>
					 <p:column>
					  <p:calendar navigator="true"  value="#{congeAcademiqueBean.congeAcademiqueDto.dateDebutAccordee}" 
					  			 showButtonPanel="true" id="debutaccord"
						         label="#{congeAcademiqueMsgs.conge_academique_date_debut_accordee}" 
								 pattern="dd/MM/yyyy" rendered="#{!congeAcademiqueBean.congeAcademiqueDto.resultatValide}" >	
						   <f:convertDateTime pattern="dd/MM/yyyy" />
					 </p:calendar>
					    <h:outputText  value="#{congeAcademiqueBean.congeAcademiqueDto.dateDebutAccordee}" 
						  				style="font-weight: bold;" rendered="#{congeAcademiqueBean.congeAcademiqueDto.resultatValide}">
						     <f:convertDateTime pattern="dd/MM/yyyy" />
						</h:outputText>								
					 </p:column> 
					 <p:column>
							<h:outputText value="#{congeAcademiqueMsgs.conge_academique_date_fin_accordee}" />
					 </p:column>
					<p:column>
					  <p:calendar navigator="true"  value="#{congeAcademiqueBean.congeAcademiqueDto.dateFinAccordee}"  
					  			showButtonPanel="true"  id="finaccord"
						        label="#{congeAcademiqueMsgs.conge_academique_date_fin_accordee}" 
						        pattern="dd/MM/yyyy" rendered="#{!congeAcademiqueBean.congeAcademiqueDto.resultatValide}" >	
						       <f:convertDateTime pattern="dd/MM/yyyy" />
					  </p:calendar>	
					        <h:outputText  value="#{congeAcademiqueBean.congeAcademiqueDto.dateFinAccordee}" 
						  				style="font-weight: bold;" rendered="#{congeAcademiqueBean.congeAcademiqueDto.resultatValide}">
						     <f:convertDateTime pattern="dd/MM/yyyy" />
						</h:outputText>						
					 </p:column> 
					
				 </p:row>

				 <p:row rendered="#{!congeAcademiqueBean.accorde}" >
					<p:column>
						<h:outputText value="#{congeAcademiqueMsgs.conge_academique_motif_refus}" />
					</p:column>
					<p:column>
						<p:inputTextarea  style="text-align: left; width:250px" id="motifrefus" 
							value="#{congeAcademiqueBean.congeAcademiqueDto.motifRefus}"
							label="#{congeAcademiqueMsgs.conge_academique_motif_refus}"
							rendered="#{!congeAcademiqueBean.congeAcademiqueDto.resultatValide}" >
						</p:inputTextarea>
						  <h:outputText  value="#{congeAcademiqueBean.congeAcademiqueDto.motifRefus}" 
						  				style="font-weight: bold;" rendered="#{congeAcademiqueBean.congeAcademiqueDto.resultatValide}" >
						 </h:outputText>	
					</p:column>

				 </p:row>
				 
				 <p:row>
					  <p:column>
					  	<h:outputText value="#{congeAcademiqueMsgs.conge_academique_date_resultat} *" />
					  </p:column>
					  <p:column colspan="3">
					     <p:calendar navigator="true"  value="#{congeAcademiqueBean.congeAcademiqueDto.dateResultat}"  
					  			showButtonPanel="true"
						        label="#{congeAcademiqueMsgs.conge_academique_date_resultat} *" 
						        required="true" 
						        requiredMessage="#{congeAcademiqueMsgs.conge_academique_date_resultat_required}" 
						        pattern="dd/MM/yyyy"  rendered="#{!congeAcademiqueBean.congeAcademiqueDto.resultatValide}">	
						   <f:convertDateTime pattern="dd/MM/yyyy" />
					  	</p:calendar>
						 <h:outputText  value="#{congeAcademiqueBean.congeAcademiqueDto.dateResultat}" 
						  				style="font-weight: bold;" 	rendered="#{congeAcademiqueBean.congeAcademiqueDto.resultatValide}">
						     <f:convertDateTime pattern="dd/MM/yyyy" />
						 </h:outputText>			
					  </p:column> 
					 </p:row>
					 
				 
				 <p:row rendered="#{congeAcademiqueBean.congeAcademiqueDto.resultatValide}">
					  <p:column >
					  	<h:outputText value="#{congeAcademiqueMsgs.conge_academique_date_validation_resultat_demande}" />
					  </p:column>
					  <p:column colspan="3">
						  <h:outputText  value="#{congeAcademiqueBean.congeAcademiqueDto.dateValidationResultat}" 
						  				style="font-weight: bold;" >
						  <f:convertDateTime pattern="dd/MM/yyyy  hh:mm" />
						  </h:outputText>	
					  </p:column> 
				 </p:row>
					 
				<p:row rendered="#{!congeAcademiqueBean.congeAcademiqueDto.resultatValide}">
					<p:column>
						<p:commandButton value="#{commonmsgs.bouton_enregistrer}" icon="ui-icon-disk"
						 		actionListener="#{congeAcademiqueBean.saveResultat}" id="saveResultat" 
						 		update="resultatinfosForm" 
						 		rendered="#{!congeAcademiqueBean.congeAcademiqueDto.resultatValide}">
						 
							<f:param name="dossierEtudiantId" value="#{congeAcademiqueBean.dossierEtudiantId}"/>
							<f:param name="demandeAccordee" value="#{congeAcademiqueBean.demandeAccordee}"/>
							
						</p:commandButton>
					</p:column>
					
					<p:column>
							<p:commandButton value="#{commonmsgs.bouton_valider}" icon="ui-icon-check"
							 	actionListener="#{congeAcademiqueBean.validerResultat}" id="validerConge" 
							 	update="@([id$=tabViewConge])" >
							 	
							 	<p:confirm header="Confirmation"  
									message="#{congeAcademiqueMsgs.conge_academique_msg_validate_resultat_confirmation}"
									icon="ui-icon-alert" />
							 
								<f:param name="dossierEtudiantId" value="#{congeAcademiqueBean.dossierEtudiantId}"/>
								<f:param name="demandeAccordee" value="#{congeAcademiqueBean.demandeAccordee}"/>
							</p:commandButton>
					</p:column>

				 </p:row>
				
				</p:panelGrid>

			</p:fieldset>
		</h:form>
		
		</p:tab>
		
		
		
		<p:tab title="#{congeAcademiqueMsgs.conge_academique_reintegration_etudiant}" 
		disabled="#{!congeAcademiqueBean.congeAcademiqueDto.demandeValidee or !congeAcademiqueBean.congeAcademiqueDto.resultatValide or  !congeAcademiqueBean.congeAcademiqueDto.resultat}" >
			<h:form id="reintegrationinfosForm">
			
		    <p:panelGrid >
				    <p:row>
					  <p:column>
					  	<h:outputText value="#{congeAcademiqueMsgs.conge_academique_date_reintegration} *" />
					  </p:column>
					  <p:column colspan="3">
					     <p:calendar navigator="true"  value="#{congeAcademiqueBean.congeAcademiqueDto.dateReintegration}"  
					  			showButtonPanel="true"
						        label="#{congeAcademiqueMsgs.conge_academique_date_reintegration} *" 
						        required="true" 
						        requiredMessage="#{congeAcademiqueMsgs.conge_academique_date_reintegration_required}" 
						        pattern="dd/MM/yyyy"  rendered="#{!congeAcademiqueBean.congeAcademiqueDto.reintegrationValidee}">	
						       <f:convertDateTime pattern="dd/MM/yyyy" />
						  </p:calendar>
						   <h:outputText  value="#{congeAcademiqueBean.congeAcademiqueDto.dateReintegration}" 
						  				style="font-weight: bold;" rendered="#{congeAcademiqueBean.congeAcademiqueDto.reintegrationValidee}">
						  <f:convertDateTime pattern="dd/MM/yyyy" />
						  </h:outputText>	
						  						
					  </p:column> 
					 </p:row>
					 
					  <p:row rendered="#{congeAcademiqueBean.congeAcademiqueDto.reintegrationValidee}">
					  <p:column >
					  	<h:outputText value="#{congeAcademiqueMsgs.conge_academique_date_validation_reintegration}" />
					  </p:column>
					  <p:column colspan="3">
						  <h:outputText  value="#{congeAcademiqueBean.congeAcademiqueDto.dateValidationReintegration}" 
						  				style="font-weight: bold;" >
						  <f:convertDateTime pattern="dd/MM/yyyy  hh:mm" />
						  </h:outputText>	
					  </p:column> 
					 </p:row>
					 
					<p:row 	rendered="#{!congeAcademiqueBean.congeAcademiqueDto.reintegrationValidee}">
					  <p:column>
						<p:commandButton value="#{commonmsgs.bouton_enregistrer}" icon="ui-icon-disk"
						 		actionListener="#{congeAcademiqueBean.saveReintegration}" id="saveReintegre" 
						 		update="reintegrationinfosForm" 
						 		rendered="#{congeAcademiqueBean.congeAcademiqueDto.resultatValide and !congeAcademiqueBean.congeAcademiqueDto.reintegrationValidee}">
						 
							<f:param name="dossierEtudiantId" value="#{congeAcademiqueBean.dossierEtudiantId}"/>
							<f:param name="demandeAccordee" value="#{congeAcademiqueBean.demandeAccordee}"/>
							
						</p:commandButton>
						
						<p:commandButton value="#{commonmsgs.bouton_valider}" icon="ui-icon-check"
							 	actionListener="#{congeAcademiqueBean.validerReintegration}" id="validerReinteg" 
							 	update="reintegrationinfosForm" >
							 
								<f:param name="dossierEtudiantId" value="#{congeAcademiqueBean.dossierEtudiantId}"/>
								<f:param name="demandeAccordee" value="#{congeAcademiqueBean.demandeAccordee}"/>
								
<!-- 								<p:confirm  header="Confirmation"  -->
<!-- 									message="#{congeAcademiqueMsgs.conge_academique_msg_validate_reintegration_confirmation}" -->
<!-- 									icon="ui-icon-alert" > -->
<!-- 								</p:confirm> -->
						</p:commandButton>
					
				    	</p:column>
					</p:row>
					</p:panelGrid>

		   </h:form> 
		 </p:tab>
		
	 </p:tabView>
	
  </p:outputPanel>

</ui:composition> 	
