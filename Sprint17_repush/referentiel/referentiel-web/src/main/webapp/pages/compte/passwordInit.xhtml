<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core">
	<f:view
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://java.sun.com/jsf/core">
    <f:event type="preRenderView" listener="#{compteMgrBean.crud(createAllow, editAllow, deleteAllow)}"/>
    </f:view>
	<ui:include src="/pages/compte/compteHeader.xhtml"/>
       <br></br>
	<h:form id="passwordInitForm">
		
		<p:fieldset legend="#{comptemsgs.compte_fieldset_changement_password}">

			<p:panelGrid id="PasswordGrid" styleClass="noBorder1">
				<p:row>
					<p:column>
						<h:outputText value="#{comptemsgs.compte_password} *" />
					</p:column>
					<p:column>
						<p:password id="passwordUser2" style="text-align: left;"
							value="#{compteMgrBean.refCompteDto.motPasse}" 
							label="#{comptemsgs.compte_password}" required="true"
							requiredMessage="#{comptemsgs.compte_password_required}"
							validatorMessage="#{comptemsgs.compte_password_error}"
							 maxlength="14">
								<f:validateLength minimum="6" maximum="14" for="passwordUser2"></f:validateLength>
								
								</p:password>
					</p:column>
					</p:row>
					<p:row>
					<p:column>
						<h:outputText value="#{comptemsgs.compte_confirmer_password} *" />
					</p:column>
					<p:column>
						<p:password id="confpasswordUser2" style="text-align: left;"
							value="#{compteMgrBean.refCompteDto.confirmationMotPasse}"
							label="#{comptemsgs.compte_confirmer_password}" required="true"
							requiredMessage="#{comptemsgs.compte_confirmer_password_required}"
							feedback="false" maxlength="14">
								
							</p:password>

					</p:column>
				</p:row>
				<p:row>
					<p:column>
						<p:selectBooleanCheckbox
							value="#{compteMgrBean.refCompteDto.changementMotPasse}" />
						<h:outputText
							value="#{comptemsgs.compte_user_doit_changer_password}" />
					</p:column>
				</p:row>
				
			</p:panelGrid>
			
		</p:fieldset>
		<br></br>
		<p:panelGrid id="MenuGrid3" styleClass="noBorder1">
				<p:row>
				  <p:column>
             <p:commandButton value="#{commonmsgs.button_return}"
     icon="ui-icon-arrowreturnthik-1-w" process="@form" immediate="true" 
              action="#{compteMgrBean.toSearch}">
             </p:commandButton> 
             </p:column>

             <p:column>
		<p:commandButton value="#{commonmsgs.button_appliquer}"
			icon="ui-icon-disk"   update="@form" process="@form"
            actionListener="#{compteMgrBean.changePassword}">
             <f:param name="id" value="#{compteMgrBean.id}"/>
            </p:commandButton>
            </p:column>
             </p:row>
             </p:panelGrid>
             
            </h:form>
</ui:composition>


